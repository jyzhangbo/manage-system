(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c715a4b4"],{"31e6":function(t,e,a){},4870:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r}));var i=a("b775");function n(t){return Object(i["a"])({url:"/base/list/companyName",method:"post",data:{}})}function r(t){return Object(i["a"])({url:"/base/list/task/device",method:"post",data:{}})}},"80c1":function(t,e,a){"use strict";var i=a("31e6"),n=a.n(i);n.a},"856d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("div",{staticClass:"panel-group",staticStyle:{"background-color":"white"}},[a("div",[a("el-form",{ref:"listTime",attrs:{model:t.listTime,"label-width":"130px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"起点:",prop:"alarmObject"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:t.listTime.startTime,callback:function(e){t.$set(t.listTime,"startTime",e)},expression:"listTime.startTime"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"终点:",prop:"alarmTime"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:t.listTime.endTime,callback:function(e){t.$set(t.listTime,"endTime",e)},expression:"listTime.endTime"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"设备编号:"}},[a("task-device-select",{model:{value:t.listTime.deviceNum,callback:function(e){t.$set(t.listTime,"deviceNum",e)},expression:"listTime.deviceNum"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-button",{staticStyle:{"background-color":"#42b983"},attrs:{type:"success",icon:"el-icon-search"},on:{click:function(e){return t.btnQuery()}}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"info",icon:"el-icon-magic-stick"},on:{click:function(e){return t.resetQuery("listQuery")}}},[t._v("重置")]),t._v(" "),a("el-button",{staticStyle:{"background-color":"#42b983"},attrs:{type:"success",icon:"el-icon-download"}},[t._v("导出")])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"panel-group",staticStyle:{"background-color":"white"}},[a("el-row",{staticClass:"panel-group"},[a("el-col",{attrs:{span:3,offset:21}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-picture"},on:{click:function(e){return t.changeShow()}}},[t._v("\n          切换视图\n        ")])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.chartShow,expression:"chartShow"}],staticClass:"chart-container",attrs:{id:"chartDiv"}},[a("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"mnsjChart"}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.chartShow,expression:"!chartShow"}]},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"时间",width:"180"}}),t._v(" "),t._l(t.tableHeader,(function(e,i){return a("el-table-column",{key:i,attrs:{label:e,width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.values[i]))])]}}],null,!0)})}))],2),t._v(" "),a("div",{staticStyle:{margin:"auto",width:"60%"}},[a("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper","page-size":t.tablePage.pageSize,total:t.tablePage.total},on:{"current-change":function(e){t.tablePage.pageNumber=e,t.queryDataTable()}}})],1)],1)],1),t._v(" "),a("div",{staticClass:"panel-group",staticStyle:{"background-color":"white"}},[a("el-image",{staticStyle:{width:"200px",height:"200px"},attrs:{src:t.deviceImg}})],1)])},n=[],r=(a("ac6a"),a("7f7f"),a("b85c")),s=a("b117"),c=a("313e"),l=a.n(c),o=a("e021"),u=a("de52"),d=a.n(u),m={name:"LineChart",components:{TaskDeviceSelect:o["a"]},data:function(){return{tableHeader:{},chartShow:!1,listTime:{startTime:d()().format("yyyy-MM-DD 00:00:00"),deviceNum:[],endTime:""},chart:null,tableData:[],tablePage:{total:0,pageSize:10,pageNumber:1},deviceImg:""}},mounted:function(){this.queryDataTable()},methods:{changeShow:function(){!0===this.chartShow?(this.chartShow=!1,this.queryDataTable()):(this.chartShow=!0,this.initChart())},resetQuery:function(t){this.$refs[t].resetFields()},initChart:function(){var t=document.getElementById("mnsjChart");t.style.width=window.innerWidth-300+"px",t.style.height="300px",this.chart=l.a.init(t),this.btnQuery()},queryDataTable:function(){var t=this;Object(s["d"])(this.listTime,this.tablePage).then((function(e){t.tableData=e.data.datas,t.listTime.deviceNum=e.data.deviceNum,t.tableHeader=e.data.tableHeader,t.tablePage.total=e.data.total,t.deviceImg=e.data.deviceImg}))},btnQuery:function(){var t=this;!1===this.chartShow?this.queryDataTable():Object(s["c"])(this.listTime).then((function(e){var a,i=[],n=[],s=Object(r["a"])(e.data.yDatas);try{for(s.s();!(a=s.n()).done;){var c=a.value,l={name:c.name,type:"line",data:c.values};i.push(l),n.push(c.name)}}catch(o){s.e(o)}finally{s.f()}t.setOptionData(e.data.xDatas,i,n),t.deviceImg=e.data.deviceImg}))},setOptionData:function(t,e,a){this.chart.setOption({tooltip:{trigger:"axis"},legend:{data:a},toolbox:{itemSize:30,feature:{saveAsImage:{show:!0}}},grid:{top:100,left:"2%",right:"2%",bottom:"2%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:t}],yAxis:[{type:"value",name:"(℃)",axisTick:{show:!1},axisLabel:{margin:10,textStyle:{fontSize:14}}}],series:e})}}},h=m,p=(a("80c1"),a("2877")),v=Object(p["a"])(h,i,n,!1,null,"686d0242",null);e["default"]=v.exports},b117:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"d",(function(){return r})),a.d(e,"e",(function(){return s})),a.d(e,"a",(function(){return c})),a.d(e,"b",(function(){return l}));a("ac6a");var i=a("b775");function n(t){return Object(i["a"])({url:"/data/query/char",method:"post",data:{startTime:t.startTime,endTime:t.endTime,taskNum:t.deviceNum[0],deviceNum:t.deviceNum[1]}})}function r(t,e){return Object(i["a"])({url:"/data/query/table",method:"post",data:{startTime:t.startTime,endTime:t.endTime,taskNum:t.deviceNum[0],deviceNum:t.deviceNum[1],pageNum:e.pageNumber,pageSize:e.pageSize}})}function s(t,e){return Object(i["a"])({url:"/data/simulation",method:"post",data:{startTime:t.startTime,stableTime:t.stableTime,downTime:t.downTime,endTime:t.endTime,taskNum:t.deviceNum[0],deviceNum:t.deviceNum[1],timeSpace:t.timeSpace,randomTime:t.randomTime,listTemp:e}})}function c(t,e){return Object(i["a"])({url:"/data/change",method:"post",data:{taskNum:e.deviceNum[0],deviceNum:e.deviceNum[1],time:t.time,values:t.values}})}function l(t,e){return Object(i["a"])({url:"/data/copy",method:"post",data:{taskNum:e.deviceNum[0],deviceNum:e.deviceNum[1],fromAttr:t.fromAttr,toAttr:t.toAttr,addData:t.addData,randomData:t.randomData,startTime:e.startTime,endTime:t.endTime}})}},e021:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-cascader",{attrs:{options:t.options,placeholder:"请选择",clearable:""},model:{value:t.svalue,callback:function(e){t.svalue=e},expression:"svalue"}})},n=[],r=a("4870"),s={name:"TaskDeviceSelect",props:{value:{type:Array,default:function(){}}},data:function(){return{svalue:this.value,options:[]}},watch:{value:function(t){this.svalue=t},svalue:function(t,e){t!==e&&this.$emit("input",t)}},mounted:function(){this.renderCompanyName()},methods:{renderCompanyName:function(){var t=this;Object(r["b"])().then((function(e){t.options=e.data}))}}},c=s,l=a("2877"),o=Object(l["a"])(c,i,n,!1,null,null,null);e["a"]=o.exports}}]);